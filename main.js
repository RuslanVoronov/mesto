(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}var r=function(){function e(t,r){var o,i,u,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,u=function(){c._inputList=Array.from(c._formElement.querySelectorAll(c._input)),c._buttonElement=c._formElement.querySelector(c._submitButton),c._toggleButtonState(),c._inputList.forEach((function(e){e.addEventListener("input",(function(){c._toggleInputErrorState(e),c._toggleButtonState()}))}))},(i=n(i="_setEventListeners"))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,this._input=t.input,this._submitButton=t.submitButton,this._inActiveButton=t.inActiveButton,this._inputError=t.inputError,this._errorClass=t.errorClass,this._formElement=r}var r,o;return r=e,(o=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_toggleInputErrorState",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_showInputError",value:function(e){this._formElement.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._errorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inActiveButton),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inActiveButton),this._buttonElement.disabled=!1)}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var a=function(){function e(t,n,r,o,i,c,a){var l=this,s=r.handleAddLike,f=o.handleRemoveLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_addLike",(function(){l._handleAddLike(l._data._id),l._buttonLike.classList.add("like__button_active"),l._likes.push({_id:l._userId}),l._counter.textContent=parseInt(l._counter.textContent)+1})),u(this,"_deleteLike",(function(){l._handleRemoveLike(l._data._id),l._buttonLike.classList.remove("like__button_active"),l._likes=l._likes.filter((function(e){return e._id!=l._userId})),l._counter.textContent=parseInt(l._counter.textContent)-1})),u(this,"deleteCard",(function(){l._element.remove(l._data._id),l._element=null})),u(this,"_checkLike",(function(){return console.log(l._likes.some((function(e){return e._id===l._userId}))),l._likes.some((function(e){return e._id===l._userId}))})),u(this,"_toggleLikeButton",(function(){l._checkLike()?l._deleteLike():l._addLike()})),u(this,"_setEventListeners",(function(){l._buttonLike.addEventListener("click",(function(e){return l._toggleLikeButton(e)})),l._ownerId===l._userId?l._buttonDelete.addEventListener("click",(function(){return l._handleDeleteIconClick(l._data._id,l)})):l._buttonDelete.style.visibility="hidden",l._checkLike()&&l._buttonLike.classList.toggle("like__button_active"),l._cardImage.addEventListener("click",(function(){return l._openImagePopup(l._name,l._link)}))})),u(this,"render",(function(){return l._element=l._getElement(),l._buttonLike=l._element.querySelector(".like__button"),l._buttonDelete=l._element.querySelector(".element__trash-button"),l._cardImage=l._element.querySelector(".element__image"),l._counter=l._element.querySelector(".like__counter"),l._element.querySelector(".element__title").textContent=l._name,l._cardImage.src=l._link,l._cardImage.alt=l._name,l._counter.textContent=l._data.likes.length,l._setEventListeners(),l._element})),this._name=c.name,this._link=c.link,this._template=a,this._openImagePopup=t,this._handleAddLike=s,this._handleRemoveLike=f,this._questionPopupBtn=document.querySelector("#question-btn"),this._data=c,this._userId=i,this._ownerId=c.owner._id,this._handleDeleteIconClick=n,this._likes=this._data.likes,console.log(this._likes.some((function(e){return e._id===l._userId})))}var t,n;return t=e,(n=[{key:"_getElement",value:function(){return document.querySelector(this._template).content.querySelector(".element").cloneNode(!0)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;this._renderedItems=e,this._renderedItems.forEach((function(e){return t._renderer(e)}))}},{key:"setItem",value:function(e){this._container.prepend(e)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===p(o)?o:String(o)),r)}var o}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupCloseButton=this._popup.querySelector(".popup__close-button"),this._popupCloseButton.addEventListener("click",this.close.bind(this)),this._popup.addEventListener("mousedown",(function(t){t.target===t.currentTarget&&e.close()}))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=b(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function S(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).popupTitle=t._popup.querySelector(".image-popup__name"),t.popupImage=t._popup.querySelector(".image-popup__image"),t}return t=u,(n=[{key:"open",value:function(e,t){this.popupImage.src=t,this.popupTitle.textContent=e,this.popupImage.alt=e,h(k(u.prototype),"open",this).call(this)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(d);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}var L=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setAvatar",value:function(e){this._avatar.src=e.avatar}},{key:"setUserInfo",value:function(e){this._data=e,this._name.textContent=e.name,this._job.textContent=e.about}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function B(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===j(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(n);if(r){var o=T(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return O(this,e)});function i(e,t){var n,r,u,c=t.callbackFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),B(C(u=o.call(this,e)),"_getInputValues",(function(){return u._inputList.forEach((function(e){u._formValues[e.name]=e.value})),u._formValues})),B(C(u),"close",(function(){I((n=C(u),T(i.prototype)),"close",n).call(n),u._popupForm.reset()})),B(C(u),"setEventListeners",(function(){I((r=C(u),T(i.prototype)),"setEventListeners",r).call(r),u._popupForm.addEventListener("submit",(function(e){e.preventDefault(),u._callbackFormSubmit(u._getInputValues())}))})),B(C(u),"submitStatus",(function(e){u._submitButton.textContent=e})),u._callbackFormSubmit=c,u._popupForm=u._popup.querySelector(".popup__form"),u._inputList=u._popupForm.querySelectorAll(".popup__input"),u._submitButton=u._popupForm.querySelector(".popup__save-button"),u._formValues={},u}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(d);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}var V,D=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkServer",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkServer)}},{key:"updateUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkServer)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkServer)}},{key:"addNewCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.place,link:e.link})}).then(this._checkServer)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkServer)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._checkServer)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkServer)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkServer)}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F={form:".popup__form",input:".popup__input",submitButton:".popup__save-button",inActiveButton:"popup__save-button_invalid",inputError:"popup__error",errorClass:"popup__input_error_visible"},N=document.querySelector("#profile-form"),J=document.querySelector("#card-form"),G=document.querySelector("#avatar-form"),H=document.querySelector(".popup__input_type_name"),z=document.querySelector(".popup__input_type_job"),M=document.querySelector(".profile-info__title"),K=document.querySelector(".profile-info__subtitle"),Q=document.querySelector(".profile__avatar"),W=document.querySelector(".profile-info__edit-button"),X=document.querySelector(".profile__add-button"),Y=new D({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"8e75bdf3-a6dd-493a-8736-dd4d2d269086","Content-Type":"application/json"}});Promise.all([Y.getUserInfo(),Y.getInitialCards()]).then((function(e){V=e[0]._id,ae.setAvatar(e[0]),ae.setUserInfo(e[0]),te.renderItems(e[1])})).catch((function(e){console.log("Ошибка: ".concat(e))}));var Z=function(e,t){ie.open(e,t)},$=document.querySelector("#question-btn");function ee(e,t){ue.open(),$.addEventListener("click",(function(){$.textContent="Удаление...",function(e,t){Y.deleteCard(e).then((function(e){ue.close(),$.textContent="Да",t.deleteCard(e),console})).catch((function(e){console.log("Ошибка: ".concat(e))}))}(e,t)}))}var te=new f({renderer:function(e){var t=new a(Z,ee,{handleAddLike:function(e){Y.addLike(e).then((function(e){t.handleLikeCard(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}},{handleRemoveLike:function(e){Y.deleteLike(e).then((function(t){e.handleLikeCard(t)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}},V,e,".template");te.setItem(t.render())}},".elements"),ne=new r(F,N);ne.enableValidation();var re=new r(F,J);re.enableValidation();var oe=new r(F,G);oe.enableValidation();var ie=new g("#image-popup");ie.setEventListeners();var ue=new d("#question-popup");ue.setEventListeners();var ce=new x("#card-popup",{callbackFormSubmit:function(e){ce.submitStatus("Сохранение..."),Y.addNewCard(e).then((function(e){var t;te.setItem((t=new a(Z,ee,{handleAddLike:function(e){Y.addLike(e).then((function(e){t.handleLikeCard(e)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}},{handleRemoveLike:function(e){Y.deleteLike(e).then((function(t){e.handleLikeCard(t)})).catch((function(e){console.log("Ошибка: ".concat(e))}))}},V,e,".template"),t.render())),ce.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){ce.submitStatus("Сохранить")}))}});ce.setEventListeners();var ae=new L({nameSelector:".profile-info__title",jobSelector:".profile-info__subtitle",avatarSelector:".profile__avatar"}),le=new x("#avatar-popup",{callbackFormSubmit:function(e){le.submitStatus("Сохранение..."),Y.updateAvatar(e).then((function(e){ae.setAvatar(e),le.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){le.submitStatus("Сохранить")}))}});le.setEventListeners();var se=new x("#profile-popup",{callbackFormSubmit:function(e){se.submitStatus("Сохранение..."),Y.updateUserInfo(e).then((function(e){ae.setUserInfo(e),se.close()})).catch((function(e){console.log("Ошибка: ".concat(e))})).finally((function(){se.submitStatus("Сохранить")}))}});se.setEventListeners(),W.addEventListener("click",(function(){se.open(),H.value=M.textContent,z.value=K.textContent,ne.resetValidation()})),Q.addEventListener("click",(function(){le.open(),oe.resetValidation()})),X.addEventListener("click",(function(){ce.open(),re.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDd0IsU0FBUSxXQUNMRyxHQUFpQkwsYUFBYSxZQUNsQyxHQUNSLElBRUpLLEdBQWlCUCxvQkFPakJqQyxFQUFnQnZKLGlCQUFpQixTQXBLakMsV0FDSStMLEdBQWlCekIsT0FDakJwQixFQUFVakMsTUFBUW1DLEVBQVluSSxZQUM5QmtJLEVBQVNsQyxNQUFRb0MsRUFBV3BJLFlBQzVCa0ssR0FBb0JjLGlCQUN4QixJQWdLQTNDLEVBQWN0SixpQkFBaUIsU0FsRC9CLFdBQ0k2TCxHQUFrQnZCLE9BQ2xCaUIsR0FBbUJVLGlCQUN2QixJQWdEQXpDLEVBQWN4SixpQkFBaUIsU0E5Si9CLFdBQ0l5TCxHQUFhbkIsT0FDYmdCLEdBQWlCVyxpQkFDckIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXQgPSBkYXRhLmlucHV0O1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRhdGEuc3VibWl0QnV0dG9uO1xyXG4gICAgICAgIHRoaXMuX2luQWN0aXZlQnV0dG9uID0gZGF0YS5pbkFjdGl2ZUJ1dHRvbjtcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yID0gZGF0YS5pbnB1dEVycm9yO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dCkpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVJbnB1dEVycm9yU3RhdGUoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF90b2dnbGVJbnB1dEVycm9yU3RhdGUoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyDQn9C+0LrQsNC30LDRgtGMINC/0L7Qu9C1INC+0YjQuNCx0LrQuFxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9O1xyXG4gICAgLy8g0KHQutGA0YvRgtGMINC/0L7Qu9C1INC+0YjQuNCx0LrQuFxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIH07XHJcbiAgICAvLyAg0J/RgNC+0LLQtdGA0LrQsCDQuNC90L/Rg9GC0LAg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjFxyXG4gICAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vINCf0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMINC60L3QvtC/0LrQuFxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5BY3RpdmVCdXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5BY3RpdmVCdXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wZW5JbWFnZVBvcHVwLCBoYW5kbGVEZWxldGVJY29uQ2xpY2ssIHsgaGFuZGxlQWRkTGlrZSB9LCB7IGhhbmRsZVJlbW92ZUxpa2UgfSwgdXNlcklkLCBkYXRhLCB0ZW1wbGF0ZUNhcmQpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhcmQ7XHJcbiAgICAgICAgdGhpcy5fb3BlbkltYWdlUG9wdXAgPSBvcGVuSW1hZ2VQb3B1cDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVBZGRMaWtlID0gaGFuZGxlQWRkTGlrZTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVMaWtlID0gaGFuZGxlUmVtb3ZlTGlrZTtcclxuICAgICAgICB0aGlzLl9xdWVzdGlvblBvcHVwQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3F1ZXN0aW9uLWJ0bicpO1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlSWNvbkNsaWNrID0gaGFuZGxlRGVsZXRlSWNvbkNsaWNrXHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSB0aGlzLl9kYXRhLmxpa2VzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2xpa2VzLnNvbWUoeCA9PiB4Ll9pZCA9PT0gdGhpcy5fdXNlcklkKSlcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0RWxlbWVudCgpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRDYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGRMaWtlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUFkZExpa2UodGhpcy5fZGF0YS5faWQpXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuYWRkKCdsaWtlX19idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMucHVzaCh7IF9pZDogdGhpcy5fdXNlcklkIH0pXHJcbiAgICAgICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IHBhcnNlSW50KHRoaXMuX2NvdW50ZXIudGV4dENvbnRlbnQpICsgMVxyXG4gICAgfVxyXG5cclxuICAgIF9kZWxldGVMaWtlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UodGhpcy5fZGF0YS5faWQpXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdsaWtlX19idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSB0aGlzLl9saWtlcy5maWx0ZXIoeCA9PiB4Ll9pZCAhPSB0aGlzLl91c2VySWQpO1xyXG4gICAgICAgIHRoaXMuX2NvdW50ZXIudGV4dENvbnRlbnQgPSBwYXJzZUludCh0aGlzLl9jb3VudGVyLnRleHRDb250ZW50KSAtIDFcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKHRoaXMuX2RhdGEuX2lkKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tMaWtlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2xpa2VzLnNvbWUoeCA9PiB4Ll9pZCA9PT0gdGhpcy5fdXNlcklkKSlcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSh4ID0+IHguX2lkID09PSB0aGlzLl91c2VySWQpXHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZUxpa2VCdXR0b24gPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrTGlrZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RlbGV0ZUxpa2UoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZExpa2UoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9jdXJyZW50VXNlcklkID09PSB0aGlzLl9teUlkKVxyXG4gICAgICAgIHRoaXMuX2J1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHRoaXMuX3RvZ2dsZUxpa2VCdXR0b24oZXZlbnQpKVxyXG4gICAgICAgIGlmICh0aGlzLl9vd25lcklkID09PSB0aGlzLl91c2VySWQpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUljb25DbGljayh0aGlzLl9kYXRhLl9pZCwgdGhpcykpO1xyXG5cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRGVsZXRlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ9Cd0LUg0LzQvtC5IElEJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jaGVja0xpa2UoKSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdsaWtlX19idXR0b25fYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX29wZW5JbWFnZVBvcHVwKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldEVsZW1lbnQoKTtcclxuICAgICAgICB0aGlzLl9idXR0b25MaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubGlrZV9fYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2J1dHRvbkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RyYXNoLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saWtlX19jb3VudGVyJylcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICAgICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgICByZW5kZXJJdGVtcyhkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKGl0ZW1zID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW1zKSk7XHJcbiAgICB9XHJcbiAgICBzZXRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKTtcclxuICAgICAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMucG9wdXBUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1wb3B1cF9fbmFtZScpO1xyXG4gICAgICAgIHRoaXMucG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1wb3B1cF9faW1hZ2UnKTtcclxuICAgIH1cclxuICAgIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgICAgIHRoaXMucG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMucG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0QXZhdGFyKGxpbmspIHtcclxuICAgICAgICB0aGlzLl9hdmF0YXIuc3JjID0gbGluay5hdmF0YXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCB7IGNhbGxiYWNrRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tGb3JtU3VibWl0ID0gY2FsbGJhY2tGb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKTtcclxuICAgICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0SXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXRJdGVtLm5hbWVdID0gaW5wdXRJdGVtLnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBjbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja0Zvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VibWl0U3RhdHVzID0gKHRleHQpID0+IHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRlIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9wb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpJztcclxuaW1wb3J0IFBvcHVwIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAnO1xyXG5cclxuY29uc3QgaXRlbXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgcGxhY2U6ICfQkNGA0YXRi9C3JyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwbGFjZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHBsYWNlOiAn0JjQstCw0L3QvtCy0L4nLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwbGFjZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHBsYWNlOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHBsYWNlOiAn0JHQsNC50LrQsNC7JyxcclxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnLFxyXG4gICAgfVxyXG5dO1xyXG5jb25zdCBzZXR0aW5nID0ge1xyXG4gICAgZm9ybTogJy5wb3B1cF9fZm9ybScsXHJcbiAgICBpbnB1dDogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uOiAnLnBvcHVwX19zYXZlLWJ1dHRvbicsXHJcbiAgICBpbkFjdGl2ZUJ1dHRvbjogJ3BvcHVwX19zYXZlLWJ1dHRvbl9pbnZhbGlkJyxcclxuICAgIGlucHV0RXJyb3I6ICdwb3B1cF9fZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF9lcnJvcl92aXNpYmxlJ1xyXG59O1xyXG5cclxuLy8g0KTQvtGA0LzRi1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9maWxlLWZvcm0nKTtcclxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1mb3JtJyk7XHJcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXZhdGFyLWZvcm0nKTtcclxuXHJcbi8vIElucHV0c1xyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5jb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9qb2InKTtcclxuXHJcbi8vIFByb2ZpbGUgcG9wdXBcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1pbmZvX190aXRsZScpO1xyXG5jb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaW5mb19fc3VidGl0bGUnKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKVxyXG5jb25zdCBwb3B1cEVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1pbmZvX19lZGl0LWJ1dHRvbicpO1xyXG5jb25zdCBjYXJkQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuXHJcbi8vINC60L3QvtC/0LrQuFxyXG5cclxuXHJcbi8vIGFwaVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTU1JyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiAnOGU3NWJkZjMtYTZkZC00OTNhLTg3MzYtZGQ0ZDJkMjY5MDg2JyxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbn0pO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcblByb21pc2UuYWxsKFtcclxuICAgIGFwaS5nZXRVc2VySW5mbygpLFxyXG4gICAgYXBpLmdldEluaXRpYWxDYXJkcygpXHJcbl0pXHJcbiAgICAudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICB1c2VySWQgPSB2YWx1ZVswXS5faWQ7XHJcbiAgICAgICAgcHJvZmlsZUluZm8uc2V0QXZhdGFyKHZhbHVlWzBdKVxyXG4gICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHZhbHVlWzBdKVxyXG4gICAgICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKHZhbHVlWzFdKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICB9KTtcclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUgSW1hZ2UgUG9wdXBcclxuY29uc3Qgb3BlbkltYWdlUG9wdXAgPSAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgcG9wdXBJbWFnZUxhcmdlLm9wZW4obmFtZSwgbGluayk7XHJcbn07XHJcbmNvbnN0IHF1ZXN0aW9uUG9wdXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcXVlc3Rpb24tYnRuJylcclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZUFwaWNhcmRJZChjYXJkSWQsIGNhcmRFbGVtZW50KSB7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBxdWVzdGlvblBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHF1ZXN0aW9uUG9wdXBCdXR0b24udGV4dENvbnRlbnQgPSAn0JTQsCdcclxuICAgICAgICAgICAgY2FyZEVsZW1lbnQuZGVsZXRlQ2FyZChyZXMpO1xyXG4gICAgICAgICAgICBjb25zb2xlXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVJY29uQ2xpY2soY2FyZElkLCBjYXJkRWxlbWVudCkge1xyXG4gICAgcXVlc3Rpb25Qb3B1cC5vcGVuKCk7XHJcbiAgICBxdWVzdGlvblBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHF1ZXN0aW9uUG9wdXBCdXR0b24udGV4dENvbnRlbnQgPSAn0KPQtNCw0LvQtdC90LjQtS4uLidcclxuICAgICAgICBkZWxldGVBcGljYXJkSWQoY2FyZElkLCBjYXJkRWxlbWVudCk7XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUg0J/RgNC+0YTQuNC70Ywg0J/QvtC/0LDQv9CwXHJcbmZ1bmN0aW9uIG9wZW5Qcm9maWxlUG9wdXAoKSB7XHJcbiAgICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcclxuICAgIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gICAgam9iSW5wdXQudmFsdWUgPSBwcm9maWxlSm9iLnRleHRDb250ZW50O1xyXG4gICAgcHJvZmlsZUZvcm1WYWxpZGF0ZS5yZXNldFZhbGlkYXRpb24oKTtcclxufTtcclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUg0JrQsNGA0LQg0L/QvtC/0LDQv1xyXG5mdW5jdGlvbiBvcGVuQ2FyZFBvcHVwKCkge1xyXG4gICAgY2FyZEFkZFBvcHVwLm9wZW4oKTtcclxuICAgIGNhcmRGb3JtVmFsaWRhdGUucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn07XHJcblxyXG4vLyDRgNC10L3QtNC10YAg0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChvcGVuSW1hZ2VQb3B1cCwgaGFuZGxlRGVsZXRlSWNvbkNsaWNrLCB7XHJcbiAgICAgICAgICAgIGhhbmRsZUFkZExpa2U6IChjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZUxpa2VDYXJkKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGhhbmRsZVJlbW92ZUxpa2U6IChjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkSWQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHVzZXJJZCwgaXRlbSwgJy50ZW1wbGF0ZScpO1xyXG4gICAgICAgIGNhcmRMaXN0LnNldEl0ZW0oY2FyZC5yZW5kZXIoKSk7XHJcbiAgICB9XHJcbn0sICcuZWxlbWVudHMnKTtcclxuXHJcblxyXG5cclxuXHJcbi8vINCh0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQob3BlbkltYWdlUG9wdXAsIGhhbmRsZURlbGV0ZUljb25DbGljaywge1xyXG4gICAgICAgIGhhbmRsZUFkZExpa2U6IChjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgYXBpLmFkZExpa2UoY2FyZElkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJkRWxlbWVudC5oYW5kbGVMaWtlQ2FyZChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyfWApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGhhbmRsZVJlbW92ZUxpa2U6IChjYXJkSWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkSWQuaGFuZGxlTGlrZUNhcmQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHVzZXJJZCwgaXRlbSwgJy50ZW1wbGF0ZScpO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50LnJlbmRlcigpO1xyXG59XHJcblxyXG4vLyDQktCw0LvQuNC00LDRhtC40Y9cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0ZSA9IG5ldyBGb3JtVmFsaWRhdGUoc2V0dGluZywgcHJvZmlsZUZvcm0pXHJcbnByb2ZpbGVGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0ZShzZXR0aW5nLCBjYXJkRm9ybSk7XHJcbmNhcmRGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRlKHNldHRpbmcsIGF2YXRhckZvcm0pO1xyXG5hdmF0YXJGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8g0K3QutC30LXQvNC70L/Rj9GAINC60LvQsNGB0YHQsCDQtNC70Y8g0LHQvtC70YzRiNC+0Lkg0LrQsNGA0YLQuNC90LrQuFxyXG5jb25zdCBwb3B1cEltYWdlTGFyZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNpbWFnZS1wb3B1cCcpO1xyXG5wb3B1cEltYWdlTGFyZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIHF1ZXN0aW9uIHBvcHVwXHJcbmNvbnN0IHF1ZXN0aW9uUG9wdXAgPSBuZXcgUG9wdXAoJyNxdWVzdGlvbi1wb3B1cCcpO1xyXG5xdWVzdGlvblBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDQrdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwINC00LvRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNhcmRBZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjY2FyZC1wb3B1cCcsIHtcclxuICAgIGNhbGxiYWNrRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICBjYXJkQWRkUG9wdXAuc3VibWl0U3RhdHVzKCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpXHJcblxyXG4gICAgICAgIGFwaS5hZGROZXdDYXJkKGRhdGEpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmRMaXN0LnNldEl0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcclxuICAgICAgICAgICAgICAgIGNhcmRBZGRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmRBZGRQb3B1cC5zdWJtaXRTdGF0dXMoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn0pO1xyXG5jYXJkQWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINGB0LHQvtGAINC40L3RhNC+0YDQvNCw0YbQuNC4XHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlLWluZm9fX3RpdGxlJyxcclxuICAgIGpvYlNlbGVjdG9yOiAnLnByb2ZpbGUtaW5mb19fc3VidGl0bGUnLFxyXG4gICAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJ1xyXG59KTtcclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuZnVuY3Rpb24gb3BlbkF2YXRhclBvcHVwKCkge1xyXG4gICAgcHJvZmlsZUVkaXRBdmF0YXIub3BlbigpXHJcbiAgICBhdmF0YXJGb3JtVmFsaWRhdGUucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn07XHJcblxyXG4vLyDQrdC60LfQtdC80L/Qu9GP0YAg0LTQu9GPINGA0LXQtNCw0LrRgtGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IHByb2ZpbGVFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNhdmF0YXItcG9wdXAnLCB7XHJcbiAgICBjYWxsYmFja0Zvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgcHJvZmlsZUVkaXRBdmF0YXIuc3VibWl0U3RhdHVzKCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpXHJcbiAgICAgICAgYXBpLnVwZGF0ZUF2YXRhcihkYXRhKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9maWxlSW5mby5zZXRBdmF0YXIocmVzKTtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGVFZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycn1gKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZUVkaXRBdmF0YXIuc3VibWl0U3RhdHVzKCfQodC+0YXRgNCw0L3QuNGC0YwnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG59KVxyXG5wcm9maWxlRWRpdEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0K3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwcm9maWxlRWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwcm9maWxlLXBvcHVwJywge1xyXG4gICAgY2FsbGJhY2tGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIHByb2ZpbGVFZGl0UG9wdXAuc3VibWl0U3RhdHVzKCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpXHJcbiAgICAgICAgYXBpLnVwZGF0ZVVzZXJJbmZvKGRhdGEpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZUVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGVFZGl0UG9wdXAuc3VibWl0U3RhdHVzKCfQodC+0YXRgNCw0L3QuNGC0YwnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG59KTtcclxucHJvZmlsZUVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vINCh0LvRg9GI0LDRgtC10LvQuFxyXG5wb3B1cEVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUHJvZmlsZVBvcHVwKTtcclxucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BdmF0YXJQb3B1cCk7XHJcbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ2FyZFBvcHVwKTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tTZXJ2ZXIocmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g0LXRgdC70Lgg0L7RiNC40LHQutCwLCDQvtGC0LrQu9C+0L3Rj9C10Lwg0L/RgNC+0LzQuNGBXHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH07XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1NlcnZlcilcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmFib3V0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTZXJ2ZXIpXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQXZhdGFyKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTZXJ2ZXIpXHJcbiAgICB9XHJcbiAgICBhZGROZXdDYXJkKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLnBsYWNlLFxyXG4gICAgICAgICAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTZXJ2ZXIpXHJcbiAgICB9XHJcbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1NlcnZlcilcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1NlcnZlcilcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrU2VydmVyKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBkZWxldGVMaWtlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrU2VydmVyKVxyXG4gICAgfVxyXG59O1xyXG4vLyDQtNGA0YPQs9C40LUg0LzQtdGC0L7QtNGLINGA0LDQsdC+0YLRiyDRgSBBUEkiXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsImRhdGEiLCJmb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJfZm9ybUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX3RvZ2dsZUlucHV0RXJyb3JTdGF0ZSIsInRoaXMiLCJpbnB1dCIsInN1Ym1pdEJ1dHRvbiIsIl9pbkFjdGl2ZUJ1dHRvbiIsImluQWN0aXZlQnV0dG9uIiwiX2lucHV0RXJyb3IiLCJpbnB1dEVycm9yIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2hpZGVJbnB1dEVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsImlkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImNsYXNzTGlzdCIsImFkZCIsImVycm9yRWxlbWVudCIsInJlbW92ZSIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJDYXJkIiwib3BlbkltYWdlUG9wdXAiLCJoYW5kbGVEZWxldGVJY29uQ2xpY2siLCJ1c2VySWQiLCJ0ZW1wbGF0ZUNhcmQiLCJoYW5kbGVBZGRMaWtlIiwiaGFuZGxlUmVtb3ZlTGlrZSIsIl9oYW5kbGVBZGRMaWtlIiwiX2RhdGEiLCJfaWQiLCJfYnV0dG9uTGlrZSIsIl9saWtlcyIsInB1c2giLCJfdXNlcklkIiwiX2NvdW50ZXIiLCJwYXJzZUludCIsIl9oYW5kbGVSZW1vdmVMaWtlIiwiZmlsdGVyIiwieCIsIl9lbGVtZW50IiwiY29uc29sZSIsImxvZyIsIl9jaGVja0xpa2UiLCJfZGVsZXRlTGlrZSIsIl9hZGRMaWtlIiwiZXZlbnQiLCJfdG9nZ2xlTGlrZUJ1dHRvbiIsIl9vd25lcklkIiwiX2J1dHRvbkRlbGV0ZSIsIl9oYW5kbGVEZWxldGVJY29uQ2xpY2siLCJzdHlsZSIsInZpc2liaWxpdHkiLCJ0b2dnbGUiLCJfY2FyZEltYWdlIiwiX29wZW5JbWFnZVBvcHVwIiwiX25hbWUiLCJfbGluayIsIl9nZXRFbGVtZW50Iiwic3JjIiwiYWx0IiwibGlrZXMiLCJsZW5ndGgiLCJuYW1lIiwibGluayIsIl90ZW1wbGF0ZSIsIl9xdWVzdGlvblBvcHVwQnRuIiwiZG9jdW1lbnQiLCJvd25lciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJfcmVuZGVyZWRJdGVtcyIsIml0ZW1zIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJwb3B1cFRpdGxlIiwicG9wdXBJbWFnZSIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9qb2IiLCJfYXZhdGFyIiwiam9iIiwiYXZhdGFyIiwiYWJvdXQiLCJQb3B1cFdpdGhGb3JtIiwiY2FsbGJhY2tGb3JtU3VibWl0IiwiaW5wdXRJdGVtIiwiX2Zvcm1WYWx1ZXMiLCJ2YWx1ZSIsIl9wb3B1cEZvcm0iLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiX2NhbGxiYWNrRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsInRleHQiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9jaGVja1NlcnZlciIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicGxhY2UiLCJjYXJkSWQiLCJzZXR0aW5nIiwiZm9ybSIsInByb2ZpbGVGb3JtIiwiY2FyZEZvcm0iLCJhdmF0YXJGb3JtIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJwcm9maWxlQXZhdGFyIiwicG9wdXBFZGl0QnV0dG9uIiwiY2FyZEFkZEJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsInByb2ZpbGVJbmZvIiwic2V0QXZhdGFyIiwic2V0VXNlckluZm8iLCJjYXJkTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJwb3B1cEltYWdlTGFyZ2UiLCJvcGVuIiwicXVlc3Rpb25Qb3B1cEJ1dHRvbiIsImNhcmRFbGVtZW50IiwicXVlc3Rpb25Qb3B1cCIsImRlbGV0ZUNhcmQiLCJkZWxldGVBcGljYXJkSWQiLCJpdGVtIiwiY2FyZCIsImFkZExpa2UiLCJoYW5kbGVMaWtlQ2FyZCIsImRlbGV0ZUxpa2UiLCJzZXRJdGVtIiwicmVuZGVyIiwicHJvZmlsZUZvcm1WYWxpZGF0ZSIsIkZvcm1WYWxpZGF0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJjYXJkRm9ybVZhbGlkYXRlIiwiYXZhdGFyRm9ybVZhbGlkYXRlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkQWRkUG9wdXAiLCJzdWJtaXRTdGF0dXMiLCJhZGROZXdDYXJkIiwiZmluYWxseSIsInByb2ZpbGVFZGl0QXZhdGFyIiwidXBkYXRlQXZhdGFyIiwicHJvZmlsZUVkaXRQb3B1cCIsInVwZGF0ZVVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==